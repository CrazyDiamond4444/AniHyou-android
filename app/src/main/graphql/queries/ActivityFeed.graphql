query ActivityFeed($page: Int, $perPage: Int, $isFollowing: Boolean, $typeIn: [ActivityType]) {
    Page(page: $page, perPage: $perPage) {
        activities(isFollowing: $isFollowing, sort: [ID_DESC], type_in: $typeIn) {
            ... on TextActivity {
                ...TextActivityFragment
                user {
                    id
                    name
                    avatar {
                        medium
                    }
                }
            }
            ... on ListActivity {
                ...ListActivityFragment
                user {
                    id
                    name
                    avatar {
                        medium
                    }
                }
            }
        }
        pageInfo {
            currentPage
            hasNextPage
        }
    }
}

fragment ListActivityFragment on ListActivity {
    id
    createdAt
    isLiked
    likeCount
    replyCount
    type
    progress
    status
    media {
        id
        title {
            userPreferred
        }
        coverImage {
            medium
        }
    }
}

fragment TextActivityFragment on TextActivity {
    id
    createdAt
    isLiked
    likeCount
    replyCount
    text
}

fragment MessageActivityFragment on MessageActivity {
    id
    createdAt
    isLiked
    likeCount
    replyCount
    message
    messenger {
        id
        name
        avatar {
            medium
        }
    }
}